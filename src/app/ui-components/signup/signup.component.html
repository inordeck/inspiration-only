<router-outlet></router-outlet>

<div class="container">
	<div class="row">
		<div class="col-2"></div> <!-- WHITESPACE -->

		<div class="col-8">
			<div class="card">

        <form class="form-group" [formGroup]="userForm"  *ngIf="newUser"  (ngSubmit)="signup()">
          <h1 class="card-header">New User Signup</h1>
          <div class="card-block">
            <button class="btn btn-success" (click)="toggleForm()">Already Registered?</button>
            <hr>

            <label for="email">Email</label>
            <input type="email" id="email" class="input" formControlName="email" required >
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>


            <div *ngIf="formErrors.email" class="notification is-danger">
              {{ formErrors.email }}
            </div>

            <label for="password">Password</label>
            <input type="password" id="password" class="input" formControlName="password" required >

            <div *ngIf="formErrors.password" class="notification is-danger">
              {{ formErrors.password }}
            </div>

            <div *ngIf="userForm.valid" class="notification is-success">Form is valid</div>
              <button type="submit" class="btn btn-success" [disabled]="!userForm.valid">Sign Up</button>
          </div>
        </form>

        <form class="form-group" [formGroup]="userForm"  *ngIf="!newUser"  (ngSubmit)="login()">
          <h1 class="card-header">Existing User Login</h1>
          <div class="card-block">
            <button class="btn btn-success" (click)="toggleForm()">New User?</button>
            <hr>

            <label for="email">Email</label>
            <input type="email" id="email" class="input" formControlName="email" required >
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>

            <div *ngIf="formErrors.email" class="help is-danger">
              {{ formErrors.email }}
            </div>

            <label for="password">Password</label>
            <input type="password" id="password" class="input" formControlName="password" required >

            <div *ngIf="formErrors.password" class="help is-danger">
              {{ formErrors.password }}
            </div>

            <button type="submit" class="btn btn-success" [disabled]="!userForm.valid">Log In</button>
            <span *ngIf="userForm.valid" class="help is-success">Form Looks Valid</span>

            <button *ngIf="!passReset && userForm.controls.email.valid" class="help is-info btn btn-warning" (click)="resetPassword()">Reset Password for {{userForm.value.email}}?</button>

            <p *ngIf="passReset" class="help is-info">Reset requested. Check your email instructions.</p>
          </div>
        </form>

			</div> <!-- end of card -->
		</div> <!-- end of col 8 -->

		<div class="col-2"></div> <!-- WHITESPACE -->
	</div> <!-- end of row -->
</div> <!-- end of container -->

